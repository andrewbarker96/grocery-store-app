"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[255],{255:(j,y,s)=>{s.r(y),s.d(y,{AdminPageModule:()=>P});var f=s(177),m=s(4341),n=s(4488),p=s(9858),d=s(467),h=s(9492),F=s(5312),g=s(334),e=s(4438);function A(r,c){if(1&r){const i=e.RV6();e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-button",6),e.bIt("click",function(){const o=e.eBV(i).$implicit,a=e.XpG();return e.Njj(a.editGroceryItem(o))}),e.EFF(4,"Edit"),e.k0s(),e.j41(5,"ion-button",6),e.bIt("click",function(){const o=e.eBV(i).$implicit,a=e.XpG();return e.Njj(a.deleteGroceryItem(o.id))}),e.EFF(6,"Delete"),e.k0s()()}if(2&r){const i=c.$implicit;e.R7$(2),e.E5c("",i.id," | ",i.name," - $ ",i.price,"")}}const u=(0,h.UU)(F.c.supabaseUrl,F.c.supabaseKey),v=[{path:"",component:(()=>{var r;class c{constructor(t){this.formBuilder=t,this.groceryItems=[],this.groceryForm=this.formBuilder.group({name:["",m.k0.required],price:["",m.k0.required],image:[""]})}ngOnInit(){this.getGroceryItems(),g.s3.show(),g.s3.setAccessoryBarVisible({isVisible:!0})}getGroceryItems(){var t=this;return(0,d.A)(function*(){let{data:o,error:a}=yield u.from("groceries").select("*");a?console.log("Error fetching groceries: ",a):t.groceryItems=o})()}createGroceryItem(t){var o=this;return(0,d.A)(function*(){const{error:l}=yield u.from("groceries").insert([t]);l?console.log("Error creating grocery item: ",l):(console.log(`${t.name} successully added`),yield o.getGroceryItems(),g.s3.hide())})()}updateGroceryItem(t){var o=this;return(0,d.A)(function*(){const{error:l}=yield u.from("groceries").update(t).match({id:t.id});l?console.log("Error updating grocery item: ",l):yield o.getGroceryItems()})()}deleteGroceryItem(t){var o=this;return(0,d.A)(function*(){const{error:l}=yield u.from("groceries").delete().match({id:t});l?console.log("Error deleting grocery item: ",l):yield o.getGroceryItems()})()}onSubmit(){var t=this;return(0,d.A)(function*(){if(t.groceryForm.valid){const o=t.groceryForm.value;o.id?yield t.updateGroceryItem(o):yield t.createGroceryItem(o),t.resetForm()}})()}resetForm(){this.groceryForm.reset()}editGroceryItem(t){this.groceryForm.patchValue(t)}}return(r=c).\u0275fac=function(t){return new(t||r)(e.rXU(m.ok))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-admin"]],decls:22,vars:3,consts:[[3,"ngSubmit","formGroup"],["formControlName","name","type","text"],["formControlName","price","type","number"],["formControlName","image","type","text"],["type","submit","expand","block",3,"disabled"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," Admin Page "),e.k0s()()(),e.j41(4,"ion-content")(5,"form",0),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(6,"ion-item")(7,"ion-label"),e.EFF(8,"Name"),e.k0s(),e.nrm(9,"ion-input",1),e.k0s(),e.j41(10,"ion-item")(11,"ion-label"),e.EFF(12,"Price"),e.k0s(),e.nrm(13,"ion-input",2),e.k0s(),e.j41(14,"ion-item")(15,"ion-label"),e.EFF(16,"Image"),e.k0s(),e.nrm(17,"ion-input",3),e.k0s(),e.j41(18,"ion-button",4),e.EFF(19,"Submit"),e.k0s()(),e.j41(20,"ion-list"),e.DNE(21,A,7,3,"ion-item",5),e.k0s()()),2&t&&(e.R7$(5),e.Y8G("formGroup",o.groceryForm),e.R7$(13),e.Y8G("disabled",!o.groceryForm.valid),e.R7$(3),e.Y8G("ngForOf",o.groceryItems))},dependencies:[f.Sq,m.qT,m.BC,m.cb,n.Jm,n.W9,n.eU,n.$w,n.uz,n.he,n.nf,n.BC,n.ai,n.su,n.Gw,m.j4,m.JD]}),c})()}];let I=(()=>{var r;class c{}return(r=c).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[p.iI.forChild(v),p.iI]}),c})(),P=(()=>{var r;class c{}return(r=c).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.MD,m.YN,n.bv,I,m.X1]}),c})()}}]);